name: Checks # Workflow name


on:
  pull_request:
    types: [opened, synchronize] # Workflow triggering events

jobs:
 checks:
   runs-on: ubuntu-latest

   steps:
     - name: "Checkout"
       uses: actions/checkout@v2
       with:
         fetch-depth: 0

     - name: "Use NodeJS 16"
       uses: actions/setup-node@v2 # Public action
       with:
         node-version: '16'

     - name: "Setup npm" # Add our registry to npm config
       run: | 
           npm set @sandeepsaini:registry=https://npm.pkg.github.com/sandeepsaini
           npm set "//npm.pkg.github.com/:_authToken=${{ secrets.GITHUB_TOKEN }}"

     - name: Install dependencies
      run: | # Install and link dependencies
           npm ci
           npx lerna bootstrap